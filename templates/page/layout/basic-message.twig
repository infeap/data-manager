{#
    This file is part of the
    Infeav Data Manager (https://www.infeav.org/data-manager)
    open source project

    @copyright   2018-2020 Tobias Krebs and the Infeav Team
    @license     https://www.gnu.org/licenses/gpl.html GNU General Public License 3
#}

{% extends "@page/layout/base.twig" %}

{% block title -%}
    {% if block('message_heading') is defined -%}
        {{ block('message_heading') }} â€“ {{ parent() }}
    {%- else -%}
        {{ parent() }}
    {%- endif %}
{%- endblock %}

{% block body_class 'inf-has-basic-message' %}

{% block body %}
    <article class="inf-basic-message">
        <header>
            <figure>
                <a href="{{ app.base_path }}">
                    <svg id="inf-logo" width="160" height="34" viewBox="0 0 160 34">
                        <title>Infeav</title>
                        <path d="M442.62,292.88H437.2V261.54h5.42Z" transform="translate(-394.73 -259.37)" />
                        <path d="M453.66,269.59l.15,2.69a8.37,8.37,0,0,1,6.78-3.12q7.28,0,7.4,8.33v15.39h-5.23V277.79a4.85,4.85,0,0,0-.95-3.28,4,4,0,0,0-3.13-1.06,5,5,0,0,0-4.72,2.86v16.57h-5.23V269.59Z" transform="translate(-394.73 -259.37)" />
                        <path d="M475.16,292.88V273.47h-3.55v-3.88h3.55v-2.13a8,8,0,0,1,2.15-6,8.25,8.25,0,0,1,6-2.11,12.07,12.07,0,0,1,2.93.39l-.13,4.09a9.9,9.9,0,0,0-2-.18q-3.75,0-3.75,3.86v2.06h4.74v3.88h-4.74v19.41Z" transform="translate(-394.73 -259.37)" />
                        <path d="M498.69,293.31a10.79,10.79,0,0,1-8.06-3.13,11.36,11.36,0,0,1-3.09-8.34v-.65a14.08,14.08,0,0,1,1.34-6.23,10.27,10.27,0,0,1,3.78-4.27,10,10,0,0,1,5.42-1.53,9.13,9.13,0,0,1,7.35,3q2.6,3,2.6,8.59v2.1H492.81a7,7,0,0,0,1.93,4.57,5.77,5.77,0,0,0,4.25,1.68,7.08,7.08,0,0,0,5.85-2.91l2.82,2.69a9.47,9.47,0,0,1-3.73,3.24A11.69,11.69,0,0,1,498.69,293.31Zm-.63-19.95a4.38,4.38,0,0,0-3.47,1.51,7.69,7.69,0,0,0-1.69,4.19h10v-.38a6.3,6.3,0,0,0-1.4-4A4.36,4.36,0,0,0,498.06,273.36Z" transform="translate(-394.73 -259.37)" />
                        <path d="M526,292.88a8,8,0,0,1-.6-2.17,8.81,8.81,0,0,1-11.84.6,6.39,6.39,0,0,1-2.22-4.95,6.59,6.59,0,0,1,2.77-5.71q2.76-2,7.91-2h3.2v-1.52a4.07,4.07,0,0,0-1-2.9,4,4,0,0,0-3.08-1.09,4.56,4.56,0,0,0-2.92.9,2.75,2.75,0,0,0-1.14,2.27h-5.23a5.76,5.76,0,0,1,1.27-3.58,8.31,8.31,0,0,1,3.45-2.62,12.17,12.17,0,0,1,4.88-.95,9.8,9.8,0,0,1,6.52,2.06,7.33,7.33,0,0,1,2.49,5.78v10.5a11.8,11.8,0,0,0,.89,5v.37Zm-5.75-3.77a6,6,0,0,0,2.92-.75,5.05,5.05,0,0,0,2.05-2V282H522.4a7.72,7.72,0,0,0-4.36,1,3.27,3.27,0,0,0-1.47,2.86,3.06,3.06,0,0,0,1,2.4A3.86,3.86,0,0,0,520.25,289.11Z" transform="translate(-394.73 -259.37)" />
                        <path d="M543.82,286.25l4.93-16.66h5.4l-8.07,23.29h-4.54l-8.14-23.29h5.43Z" transform="translate(-394.73 -259.37)" />
                        <path d="M417.4,271.17c-.16-.18-.28-.07-.38,0l-13.31,13.3c-.1.1-.21.22,0,.38a9.7,9.7,0,0,0,13.72-13.72Z" transform="translate(-394.73 -259.37)" />
                        <path d="M404.23,278.58l-6.44-6.43c-.11-.11-.22-.22-.39,0a9.71,9.71,0,0,0,0,13.38c.16.18.27.07.38,0l6.44-6.44A.32.32,0,0,0,404.23,278.58Z" transform="translate(-394.73 -259.37)" />
                        <path d="M410.2,272.71a4.86,4.86,0,0,0-6.53,0c-.17.16-.06.28,0,.38l3,3a.3.3,0,0,0,.43,0l3-3C410.25,273,410.37,272.87,410.2,272.71Z" transform="translate(-394.73 -259.37)" />
                    </svg>
                </a>

                <figcaption>{{ 'app.name'|trans }}</figcaption>
            </figure>
        </header>

        <main>
            <section>
                {% block message_symbol '' %}

                {% if block('message_heading') is defined %}
                    <h1>{{ block('message_heading') }}</h1>
                {% endif %}

                {% block message_content '' %}
            </section>
        </main>

        <footer {% if supported_languages()|length > 1 %}class="inf-has-language-picker"{% endif %}>
            {% if supported_languages()|length > 1 %}
                <div class="inf-language-picker">
                    <form>
                        {% for name, value in server_request('query_params') %}
                            {% if name != 'lang' %}
                                <input type="hidden" name="{{ name|escape('html_attr') }}" value="{{ value|escape('html_attr') }}">
                            {% endif %}
                        {% endfor %}

                        <label for="inf-footer-language-picker-select">
                            <svg width="21" height="24" viewBox="0 0 21 24" fill="currentColor">
                                <title>{{ 'language.label'|trans }}{% if 'language.label'|trans != 'Language' %} / Language{% endif %}</title>
                                <polygon points="14.87 20.96 16.29 23.27 17.04 21.13 14.87 20.96" />
                                <path d="M285.11,326.81c-.05-.05.07.42.24.59a1,1,0,0,0,.67.35,2.3,2.3,0,0,0,.82-.15,1.41,1.41,0,0,0,.68-.52.42.42,0,0,0,.05-.37.24.24,0,0,0-.28-.22,5.71,5.71,0,0,0-.75.18c-.2.06-.61.18-.79.22A1.22,1.22,0,0,1,285.11,326.81Z" transform="translate(-281.44 -318.78)" />
                                <path d="M290.17,332.47c-.08,0-1.71-.7-1.94-.81s-.66-.28-.88-.37c.62-.94,1-1.64,1.06-1.75s.75-1.46.76-1.54a1.55,1.55,0,0,0,0-.43c0-.07-.25.06-.58.17s-.94.51-1.18.56-1,.33-1.4.46-1.13.35-1.44.43-.57.09-.74.14a1,1,0,0,0,.07.31.79.79,0,0,0,.39.29,1.72,1.72,0,0,0,.64,0,1.17,1.17,0,0,0,.42-.2c0-.06,0-.22,0-.27s.81-.22,1.09-.3a13.76,13.76,0,0,1,1.51-.44c-.05.16-.92,1.85-1.2,2.36s-1.9,2.73-2.25,3.12a15.88,15.88,0,0,1-1.12,1.23,1.35,1.35,0,0,0,.52-.06,9,9,0,0,0,1.44-1.46,24.19,24.19,0,0,0,1.83-2.44h0c.1,0,.88.67,1.09.81s1,.58,1.18.66.85.38.87.27A1.59,1.59,0,0,0,290.17,332.47Z" transform="translate(-281.44 -318.78)" />
                                <path d="M286.39,340.87a3.57,3.57,0,0,0,.47.25,9.36,9.36,0,0,0,1.07.47,12.86,12.86,0,0,0,1.46.44c.27.06.56.11.85.15,0,0,.8.09,1,.09H292c.31,0,.6,0,.9-.08s.52-.08.78-.14.39-.08.58-.14l.59-.19.41-.16.38-.16.52-.25.44-.24c.12-.06.38-.26.52-.26a.27.27,0,0,1,.26.26c0,.25-.34.33-.5.44s-.36.19-.54.29a10.35,10.35,0,0,1-1,.46,11.22,11.22,0,0,1-1.37.42l-.5.11c-.08,0-1,.15-1.24.15H291c-.31,0-.63-.06-.93-.1s-.56-.1-.83-.16-.44-.1-.64-.16a8.71,8.71,0,0,1-1-.34,10.24,10.24,0,0,1-1.82-.9.23.23,0,0,1-.11-.22.25.25,0,0,1,.25-.25A1.59,1.59,0,0,1,286.39,340.87Z" transform="translate(-281.44 -318.78)" />
                                <path fill-rule="evenodd" d="M291.46,336,282,339.16V325.34l9.49-3.11Zm.53-14.22v14.43a.22.22,0,0,1-.06.13.18.18,0,0,1-.08.07c-.21.09-10,3.33-10.15,3.33a.26.26,0,0,1-.25-.18s0,0,0,0V325.13a.28.28,0,0,1,.06-.14.54.54,0,0,1,.27-.14c.15-.05,9.8-3.24,9.94-3.24S292,321.67,292,321.82Z" transform="translate(-281.44 -318.78)" />
                                <path fill-rule="evenodd" d="M299.9,336.11l-7.9-2.42V322.05l7.9-2.65Zm.53-17.05v17.37a.28.28,0,0,1-.28.29c-.11,0-.93-.28-1.07-.32l-3.29-1-.73-.23-.65-.19c-.93-.29-1.88-.57-2.81-.88a.38.38,0,0,1-.12-.16V321.8c0-.05,0-.1.08-.13s3.05-1.06,4.23-1.45c.31-.11,4.24-1.44,4.36-1.44A.27.27,0,0,1,300.43,319.06Z" transform="translate(-281.44 -318.78)" />
                                <polygon points="21 20.96 10.45 17.65 10.49 3.21 21 6.5 21 20.96" />
                                <path fill="white" d="M297.12,328.44l-1,2.47,1.91.57Zm-.62-2.33,1.36.41,2.47,8.8-1.39-.42-.51-1.8-2.88-.87-.62,1.48-1.4-.42Z" transform="translate(-281.44 -318.78)" />
                                <path d="M291.48,321.8l0-.08L283.8,319v5.42l7.68-2.52Z" transform="translate(-281.44 -318.78)" />
                            </svg>
                        </label>

                        <select id="inf-footer-language-picker-select" name="lang">
                            {% for supported_language in supported_languages() %}
                                <option value="{{ supported_language }}" {% if supported_language == current_language() %}selected{% endif %}>
                                    {{ supported_language|language_name(supported_language) }}
                                </option>
                            {% endfor %}
                        </select>

                        <button id="inf-footer-language-picker-submit" class="btn btn-link">{{ 'language.change'|trans }}</button>

                        <script>
                            (function () {
                                var submitButton = document.getElementById('inf-footer-language-picker-submit')

                                if (submitButton.classList) {
                                    submitButton.classList.add('sr-only', 'sr-only-focusable')

                                    var languageSelect = document.getElementById('inf-footer-language-picker-select')

                                    languageSelect.addEventListener('change', function () {
                                        submitButton.click()
                                    })
                                }
                            })()
                        </script>
                    </form>
                </div>
            {% endif %}

            <div>
                <a href="{{ 'app.website.url'|trans }}" target="_blank" rel="external noreferrer noopener">Infeav {{ 'app.website.label'|trans }}</a>

                {% if block('help_search_term') is defined %}
                    <a href="{{ 'app.help.url'|trans }}?search={{ block('help_search_term')|unicode_string.words(16)|url_encode }}" target="_blank" rel="external noreferrer noopener">{{ 'app.help.label'|trans }}</a>
                {% elseif block('message_heading') is defined %}
                    <a href="{{ 'app.help.url'|trans }}?search={{ block('message_heading')|unicode_string.words(16)|url_encode }}" target="_blank" rel="external noreferrer noopener">{{ 'app.help.label'|trans }}</a>
                {% else %}
                    <a href="{{ 'app.help.url'|trans }}" target="_blank" rel="external noreferrer noopener">{{ 'app.help.label'|trans }}</a>
                {% endif %}
            </div>
        </footer>
    </article>
{% endblock %}
